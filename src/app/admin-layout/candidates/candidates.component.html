<div class="container">
    <div class="row">
        <div class="col-sm-6">
            <h2>Manage <b>Candidates</b></h2>
        </div>
        <div class="col-sm-6">
            <a href="#addCandidateModal" class="btn btn-success" data-toggle="modal"><i class="fa fa-plus"></i>
                 <span> Add New</span></a> &nbsp;
            
        </div>
    </div>
</div>
<br>
<table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border table hover">

    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">First name</th>
            <th scope="col">Last name</th>
            <th scope="col">Gender</th>
            <th scope="col">Phone</th>
            <th scope="col">Email</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        <ng-container *ngIf="loading">
            <div>Loading...</div>
        </ng-container>
        
        <ng-container *ngFor="let candidate of candidates; let i = index">
            <tr>
                <td>{{i+1}}</td>
                <td>{{candidate.firstName}}</td>
                <td>{{candidate.lastName}}</td>
                <td>{{candidate.gender}}</td>
                <td>{{candidate.phone}}</td>
                <td>{{candidate.email}}</td>
                <td>
                    <a href="#editCandidateModal" data-toggle="modal" (click)="passId(candidate.id)"><i class="fa fa-pen" data-toggle="tooltip" data-placement="top" title="Tooltip on top"></i></a>&nbsp;
                    <a href="#deleteCandidateModal" data-toggle="modal"><i class="fa fa-trash"></i></a>
                </td>
            </tr>
        </ng-container>
    </tbody>
</table>

<!--  -->
<!-- Add Modal HTML -->
<div id="addCandidateModal"  tabindex="-1" role="dialog" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form (ngSubmit)="addCandidate()">
                <div class="modal-header">
                    <h4 class="modal-title">Add Candidate</h4>
                </div>
                <div class="modal-body">
                    <div class="form-row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>First Name</label>
                                <input type="text" class="form-control" name="firstname" [(ngModel)]="firstName">
                            </div>                          
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Last Name</label>
                                <input type="text" class="form-control" name="lastname" [(ngModel)]="lastName">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" name="email" [(ngModel)]="email">
                    </div>

                    <div class="row">
                        <div class="col-sm-8">
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="text" class="form-control" name="phone" [(ngModel)]="phone">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="gender">Gender</label>
                                <select class="form-control" id="gender" name="gender" [(ngModel)]="gender">
                                    <option value="MALE">Male</option>
                                    <option value="FEMALE">Female</option>

                                </select>
                            </div>
                        </div>
                    </div>


                </div>
                <div class="modal-footer">
                    <input type="button" id="closeAddModal" class="btn btn-default" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-success" value="Add">
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Edit Modal HTML -->
<div id="editCandidateModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form >
                <div class="modal-header">
                    <h4 class="modal-title">Edit Employee</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>First Name</label>
                                <input type="text" class="form-control" name="firstname" [(ngModel)]="firstName">
                            </div>                          
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label>Last Name</label>
                                <input type="text" class="form-control" name="lastname" [(ngModel)]="lastName">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" name="email" [(ngModel)]="email">
                    </div>

                    <div class="row">
                        <div class="col-sm-8">
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="text" class="form-control" name="phone" [(ngModel)]="phone">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="gender">Gender</label>
                                <select class="form-control" id="gender" name="gender" [(ngModel)]="gender">
                                    <option value="MALE">Male</option>
                                    <option value="FEMALE">Female</option>

                                </select>
                            </div>
                        </div>
                    </div>


                </div>
                <div class="modal-footer">
                    <input type="button" id="closeEditModal" class="btn btn-default" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-info" value="Save">
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Delete Modal HTML -->
<div id="deleteCandidateModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form (ngSubmit)= "removeCandidate(selectedId)">
                <div class="modal-header">
                    <h4 class="modal-title">Delete Candidate</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this candidate?</p>
                    <p class="text-warning"><small>This action cannot be undone.</small></p>
                </div>
                <div class="modal-footer">
                    <input type="button" id="closeDeleteModal" class="btn btn-default" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-danger" value="Delete">
                </div>
            </form>
        </div>
    </div>
</div>